---
layout: post
title: "20/80 flexbox css"
date: 2025-10-05
---

# Understanding CSS Layout with Flexbox

CSS layout has always confused me—there are too many ways to accomplish the same thing. This post is my attempt to find a simple, consistent approach using flexbox.

I'm using [FastHTML](https://www.fastht.ml/docs/) to write everything in Python. FastHTML lets you use HTML elements as Python objects, but everything here applies to plain HTML too.



```python
from fasthtml.common import *
```

## The Default: Vertical Stacking

Before we talk about flexbox, let's understand the default behavior.

By default, HTML stacks elements vertically:

```python
show(Div(
    P('First'),
    Button('Second'),
    H3('Third')
))
```

<div>
    <p>First</p>
    <button>Second</button>
    <h3>Third</h3>
</div>

<br>

This happens automatically—no CSS needed. But what if we want elements side-by-side? That's where flexbox comes in.

---
**Flexbox = I am a container that arranges my children in a line** 

How to use it? Wrap the elements you want to arrange in a container (e.g. `div`) and apply `display: flex;`.

```python
show(Div(
    P('First'),
    Button('Second'),
    H3('Third'),
    style = "display: flex;"
))
```

<div style="display: flex;">
    <p>First</p>
    <button>Second</button>
    <h3>Third</h3>
</div>

<br>

When you say `display: flex;`, you're telling that element:  
> *"Take your children and arrange them in a row (by default)"*

**Then you get two control knobs:**
1. `justify-content` → How do I space things left to right along the row?
2. `align-items` → How do I align items top to bottom across the row?

**Analogy** Imagine arranging photos on a wall:
- `display: flex;` = "I'm going to arrange these in a line"
- `justify-content: space-between;` = "Spread them out evenly" (horizontal spacing)
- `align-items: center;` = "Line them up at the same height" (vertical alignment)

N.B. Flexbox works with **direct children only** (not grandchildren).

```python
show(Div(
    P('First'),
    Button('Second'),
    H3('Third'),
    style = "display: flex; justify-content: space-between;"
))
```

<div style="display: flex; justify-content: space-between;">
    <p>First</p>
    <button>Second</button>
    <h3>Third</h3>
</div>

```python
show(Div(
    P('First'),
    Button('Second'),
    H3('Third'),
    style = "display: flex; justify-content: space-between; align-items: center;"
))
```

<div style="display: flex; justify-content: space-between; align-items: center;">
    <p>First</p>
    <button>Second</button>
    <h3>Third</h3>
</div>

---

**We get a few more controls as well:**

### 1. Direction (control the arrangement line)

```css
flex-direction: row;     /* Horizontal (default) → */
flex-direction: column;  /* Vertical ↓ */
```

```python
show(Div(
    P('First'),
    Button('Second'),
    H3('Third'),
    style = "display: flex; flex-direction: column;"
))
```

<div style="display: flex; flex-direction: column;">
    <p>First</p>
    <button>Second</button>
    <h3>Third</h3>
</div>

---

### 2. Wrapping (what if items don't fit)

```css
flex-wrap: nowrap; /* Squeeze them (default) */
flex-wrap: wrap;   /* Drop to next line */
```

```python
show(Div(
    *[Button(f'Item {i}') for i in range(50)],
    style = "display: flex;"
))
```

<div style="display: flex;">
    <button>Item 0</button>
    <button>Item 1</button>
    <button>Item 2</button>
    <button>Item 3</button>
    <button>Item 4</button>
    <button>Item 5</button>
    <button>Item 6</button>
    <button>Item 7</button>
    <button>Item 8</button>
    <button>Item 9</button>
</div>

```python
show(Div(
    *[Button(f'Item {i}') for i in range(50)],
    style = "display: flex; flex-wrap: wrap;"
))
```

<div style="display: flex; flex-wrap: wrap;">
    <button>Item 0</button>
    <button>Item 1</button>
    <button>Item 2</button>
    <button>Item 3</button>
    <button>Item 4</button>
</div>
<div>
    <button>Item 5</button>
    <button>Item 6</button>
    <button>Item 7</button>
    <button>Item 8</button>
    <button>Item 9</button>
</div>

---

### 3. Gap (spacing between items)

```css
gap: 10px;  /* Space between all children */
```

```python
show(Div(
    P('First'),
    Button('Second'),
    H3('Third'),
    style = "display: flex; gap: 50px;"
))
```

<div style="display: flex; gap: 50px;">
  <p>First</p>
  <button>Second</button>
  <h3>Third</h3>
</div>

---

### 4. Individual child control

```css
flex: 1; /* I want to grow and take all available space */
```

```python
show(Div(
    P('First'),
    Button('Second', style='flex: 1;'),
    H3('Third'),
    style = "display: flex;"
))
```

<div style="display: flex;">
  <p>First</p>
  <button style="flex: 1;">Second</button>
  <h3>Third</h3>
</div>

---

**That's really it.** Most layouts use:
- `display: flex`
- `justify-content` (horizontal spacing)
- `align-items` (vertical alignment)
- `gap` (spacing)
- `flex: 1` (on a child that should grow)
